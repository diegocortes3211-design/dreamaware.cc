- id: kev:ingest
  cmd: python services/worldmodel/kev_ingest.py
  env:
    KEV_URL: "{{ .KEV_URL }}"
    NEO4J_URI: "{{ .NEO4J_URI }}"
    NEO4J_USER: "{{ .NEO4J_USER }}"
    NEO4J_PASSWORD: "{{ .NEO4J_PASSWORD }}"
- id: taxii:fetch
  cmd: python services/worldmodel/taxii_fetcher.py
  env:
    MITRE_TAXII_URL: "{{ .MITRE_TAXII_URL }}"
    NEO4J_URI: "{{ .NEO4J_URI }}"
    NEO4J_USER: "{{ .NEO4J_USER }}"
    NEO4J_PASSWORD: "{{ .NEO4J_PASSWORD }}"
- id: tech:map_controls
  cmd: python services/worldmodel/tech_control_mapper.py
  env:
    NEO4J_URI: "{{ .NEO4J_URI }}"
    NEO4J_USER: "{{ .NEO4J_USER }}"
    NEO4J_PASSWORD: "{{ .NEO4J_PASSWORD }}"
    CONTROLS_PATH: "{{ .CONTROLS_PATH }}"
- id: coverage:exporter
  cmd: python services/worldmodel/coverage_exporter.py
  env:
    NEO4J_URI: "{{ .NEO4J_URI }}"
    NEO4J_USER: "{{ .NEO4J_USER }}"
    NEO4J_PASSWORD: "{{ .NEO4J_PASSWORD }}"
    COVERAGE_EXPORTER_PORT: "{{ .COVERAGE_EXPORTER_PORT }}"
    COVERAGE_POLL_SECONDS: "{{ .COVERAGE_POLL_SECONDS }}"